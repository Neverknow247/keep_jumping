extends Node2D

var stats = Stats
var sounds = Sounds

@onready var akamaru = $akamaru
@onready var sprite_2d = $akamaru/Sprite2D
@onready var fade = $CanvasLayer/fade
@onready var fade_animator = $CanvasLayer/fade_animator
@onready var finish_timer = $finish_timer
@onready var audio_stream_player_2d = $AudioStreamPlayer2D
@onready var title = $CanvasLayer/title

var game_board = "res://levels/level_1.tscn"
var akamaru_positions = [
	Vector2(-668.4346, -352), Vector2(-667.3513, -352) ,Vector2(-666.2679, -352) ,Vector2(-665.1846, -352), Vector2(-664.1013, -352) ,Vector2(-663.018, -352), Vector2(-661.9347, -352), Vector2(-660.8514, -352), Vector2(-659.7681, -352), Vector2(-658.6848, -352), Vector2(-657.6014, -352), Vector2(-656.5181, -352), Vector2(-655.4348, -352), Vector2(-654.3515, -352), Vector2(-653.2682, -352), Vector2(-652.1849, -352), Vector2(-651.1016, -352), Vector2(-650.0182, -352), Vector2(-648.9349, -352), Vector2(-647.8516, -352), Vector2(-646.7683, -352), Vector2(-645.685, -352), Vector2(-644.6017, -352), Vector2(-643.5184, -352), Vector2(-642.4351, -352), Vector2(-641.3517, -352), Vector2(-640.2684, -352), Vector2(-639.1851, -352), Vector2(-638.1018, -352), Vector2(-636.9801, -354.2089), Vector2(-635.8968, -356.2867), Vector2(-634.8135, -358.3089), Vector2(-633.7302, -360.2755), Vector2(-632.6469, -362.1866), Vector2(-631.5635, -363.2533), Vector2(-630.4802, -364.2644), Vector2(-629.3969, -365.22), Vector2(-628.3136, -366.12), Vector2(-627.2303, -366.9644), Vector2(-626.147, -367.7533), Vector2(-625.0637, -368.4867), Vector2(-623.9803, -369.1644), Vector2(-622.897, -369.7867), Vector2(-621.8137, -370.3533), Vector2(-620.7304, -370.8644), Vector2(-619.6471, -371.32), Vector2(-618.5638, -371.72), Vector2(-617.4805, -372.0645), Vector2(-616.3972, -372.3533), Vector2(-615.3138, -372.5867), Vector2(-614.2305, -372.7644), Vector2(-613.1472, -372.8867), Vector2(-612.0639, -372.9533), Vector2(-610.9806, -372.9644), Vector2(-609.8973, -372.92), Vector2(-608.814, -372.82), Vector2(-607.7307, -372.6645), Vector2(-606.6473, -372.4533), Vector2(-605.564, -372.1867), Vector2(-604.4807, -371.8644), Vector2(-603.3974, -371.4867), Vector2(-602.3141, -371.0533), Vector2(-601.2308, -370.5645), Vector2(-600.1475, -370.02), Vector2(-599.0641, -369.42), Vector2(-597.9808, -368.7645), Vector2(-596.8975, -368.0533), Vector2(-595.8141, -368.095), Vector2(-594.7308, -368.095), Vector2(-593.6475, -368.095), Vector2(-592.5642, -368.095), Vector2(-591.4809, -368.095), Vector2(-590.3976, -368.095), Vector2(-589.3143, -368.095), Vector2(-588.231, -368.095), Vector2(-587.1476, -368.095), Vector2(-586.0643, -368.095), Vector2(-584.981, -368.095), Vector2(-583.8976, -370.2283), Vector2(-582.8143, -372.3061), Vector2(-581.731, -374.3283), Vector2(-580.6477, -376.295), Vector2(-579.5644, -378.2061), Vector2(-578.4811, -380.0617), Vector2(-577.3978, -381.8617), Vector2(-576.3145, -383.6061), Vector2(-575.2311, -385.295), Vector2(-574.1478, -386.9283), Vector2(-573.0645, -388.5061), Vector2(-571.9812, -390.0284), Vector2(-570.8979, -391.495), Vector2(-569.8146, -392.9061), Vector2(-568.7313, -394.2617), Vector2(-567.6479, -395.5617), Vector2(-566.5646, -396.8061), Vector2(-565.4813, -397.8728), Vector2(-564.398, -398.8839), Vector2(-563.3147, -399.8395), Vector2(-562.2314, -400.7395), Vector2(-561.1481, -401.5839), Vector2(-560.0648, -402.3728), Vector2(-558.9814, -403.1061), Vector2(-557.8981, -403.7839), Vector2(-556.8148, -404.4061), Vector2(-555.7315, -404.9728), Vector2(-554.6482, -405.4839), Vector2(-553.5649, -405.9395), Vector2(-552.4816, -406.3395), Vector2(-551.3983, -406.6839), Vector2(-550.3149, -406.9728), Vector2(-549.2316, -407.2061), Vector2(-548.1483, -407.3839), Vector2(-547.065, -407.5061), Vector2(-545.9817, -407.5728), Vector2(-544.8984, -407.5839), Vector2(-543.8151, -407.5395), Vector2(-542.7318, -407.4395), Vector2(-541.6484, -407.2839), Vector2(-540.5651, -407.0728), Vector2(-539.4818, -406.8062), Vector2(-538.3985, -406.4839), Vector2(-537.3152, -406.1061), Vector2(-536.2319, -405.6728), Vector2(-535.1486, -405.1839), Vector2(-534.0652, -404.6395), Vector2(-532.9819, -404.0395), Vector2(-531.8986, -403.3839), Vector2(-530.8153, -402.6728), Vector2(-529.732, -401.9062), Vector2(-528.6487, -401.0839), Vector2(-527.5654, -400.2061), Vector2(-526.4821, -400.095), Vector2(-525.5098, -400.095), Vector2(-524.6487, -400.095), Vector2(-523.7877, -400.0394), Vector2(-522.9266, -399.9283), Vector2(-522.0655, -399.7617), Vector2(-521.0621, -401.895), Vector2(-519.9249, -403.9728), Vector2(-518.7877, -405.995), Vector2(-517.6505, -407.9617), Vector2(-516.5133, -409.8728), Vector2(-515.3761, -411.7283), Vector2(-514.2389, -413.5283), Vector2(-513.1017, -415.2728), Vector2(-511.9645, -416.9617), Vector2(-510.8273, -418.595), Vector2(-509.6901, -420.1728), Vector2(-508.5529, -421.695), Vector2(-507.4156, -423.1617), Vector2(-506.2784, -424.5728), Vector2(-505.1412, -425.9283), Vector2(-504.004, -427.2283), Vector2(-502.8668, -428.4728), Vector2(-501.7296, -429.6617), Vector2(-500.5924, -430.795), Vector2(-499.4552, -431.8728), Vector2(-498.318, -432.895), Vector2(-497.1808, -433.8617), Vector2(-496.0436, -434.7728), Vector2(-494.9064, -435.6283), Vector2(-493.7692, -436.4283), Vector2(-492.632, -437.1728), Vector2(-491.4948, -437.8616), Vector2(-490.3575, -439.4616), Vector2(-489.2203, -441.0061), Vector2(-488.0831, -442.495), Vector2(-486.9459, -443.9283), Vector2(-485.8087, -445.3061), Vector2(-484.6715, -446.6283), Vector2(-483.5343, -447.895), Vector2(-482.3971, -449.1061), Vector2(-481.2599, -450.2616), Vector2(-480.1227, -451.3616), Vector2(-478.9854, -452.4061), Vector2(-477.8482, -453.395), Vector2(-476.711, -454.3283), Vector2(-475.5738, -455.2061), Vector2(-474.4366, -456.0283), Vector2(-473.2994, -456.795), Vector2(-472.1622, -457.5061), Vector2(-471.025, -458.1616), Vector2(-469.8878, -458.7616), Vector2(-468.7505, -459.3061), Vector2(-467.6133, -459.795), Vector2(-466.4761, -460.2283), Vector2(-465.3389, -460.606), Vector2(-464.2017, -460.9283), Vector2(-463.0645, -461.1949), Vector2(-461.9273, -461.4061), Vector2(-460.7901, -461.5616), Vector2(-459.6529, -461.6616), Vector2(-458.5157, -461.7061), Vector2(-457.3785, -461.6949), Vector2(-456.2413, -461.6283), Vector2(-455.1041, -461.506), Vector2(-453.9669, -461.3283), Vector2(-452.8297, -461.0949), Vector2(-451.6924, -460.8061), Vector2(-450.5552, -460.4616), Vector2(-449.418, -460.0616), Vector2(-448.2808, -459.606), Vector2(-447.1436, -459.0949), Vector2(-446.0064, -458.5283), Vector2(-444.8692, -457.906), Vector2(-443.732, -457.2283), Vector2(-442.5948, -456.4949), Vector2(-441.4576, -455.7061), Vector2(-440.3204, -454.8616), Vector2(-439.1832, -453.9616), Vector2(-438.046, -453.006), Vector2(-436.9088, -451.9949), Vector2(-435.7715, -450.9283), Vector2(-434.6343, -449.806), Vector2(-433.4971, -448.6283), Vector2(-432.3599, -448.095), Vector2(-431.226, -448.095), Vector2(-430.0955, -448.095), Vector2(-428.9683, -448.095), Vector2(-427.8444, -448.095), Vector2(-426.7238, -448.095), Vector2(-425.6066, -448.095), Vector2(-424.4927, -448.095), Vector2(-423.3821, -448.095), Vector2(-422.2749, -448.095), Vector2(-421.1711, -448.095), Vector2(-420.0705, -448.095), Vector2(-418.9733, -448.095), Vector2(-417.8794, -448.095), Vector2(-416.7888, -448.095), Vector2(-415.7016, -448.095), Vector2(-414.6177, -448.095), Vector2(-413.5344, -448.095), Vector2(-412.451, -448.095), Vector2(-411.3677, -448.095), Vector2(-410.2843, -448.095), Vector2(-409.201, -448.095), Vector2(-408.1176, -448.095), Vector2(-407.0343, -448.095), Vector2(-405.951, -448.095), Vector2(-404.8676, -448.095), Vector2(-403.7843, -448.095), Vector2(-402.7009, -448.095), Vector2(-401.6176, -448.095), Vector2(-400.5342, -448.095), Vector2(-399.4509, -448.095), Vector2(-398.3676, -448.095), Vector2(-397.2842, -448.095), Vector2(-396.2009, -448.095), Vector2(-395.1175, -448.095), Vector2(-394.0342, -448.095), Vector2(-392.9508, -448.095), Vector2(-391.8675, -448.095), Vector2(-390.7841, -448.095), Vector2(-389.7008, -448.095), Vector2(-388.6175, -448.095), Vector2(-387.5341, -448.095), Vector2(-386.4508, -448.095), Vector2(-385.3674, -448.095), Vector2(-384.2841, -448.095), Vector2(-383.2007, -448.095), Vector2(-382.1174, -448.095), Vector2(-381.0341, -448.095), Vector2(-379.9507, -448.095), Vector2(-378.8674, -448.095), Vector2(-377.784, -448.095), Vector2(-376.7007, -448.095), Vector2(-375.6173, -448.095), Vector2(-374.534, -448.095), Vector2(-373.4507, -448.095), Vector2(-372.3673, -448.095), Vector2(-371.284, -448.095), Vector2(-370.2006, -448.095), Vector2(-369.1173, -448.095), Vector2(-368.0339, -448.095), Vector2(-366.9506, -448.095), Vector2(-365.8672, -448.095), Vector2(-364.7839, -448.095), Vector2(-363.7006, -448.095), Vector2(-362.6172, -448.095), Vector2(-361.5339, -448.095), Vector2(-360.4505, -448.095), Vector2(-359.3672, -448.095), Vector2(-358.2838, -448.095), Vector2(-357.2005, -448.095), Vector2(-356.1172, -448.095), Vector2(-355.0338, -448.095), Vector2(-353.9505, -448.095), Vector2(-352.8671, -448.095), Vector2(-351.7838, -448.095), Vector2(-350.7004, -448.095), Vector2(-349.6171, -448.095), Vector2(-348.5338, -448.095), Vector2(-347.4504, -448.0395), Vector2(-346.3671, -447.9283), Vector2(-345.2837, -447.7617), Vector2(-344.2004, -447.5395), Vector2(-343.117, -447.2617), Vector2(-342.0337, -446.9283), Vector2(-340.9503, -446.5395), Vector2(-339.867, -446.095), Vector2(-338.7837, -445.595), Vector2(-337.7003, -445.0395), Vector2(-336.617, -444.4283), Vector2(-335.5336, -443.7617), Vector2(-334.4503, -443.0395), Vector2(-333.3669, -442.2617), Vector2(-332.2836, -441.4283), Vector2(-331.2003, -440.5395), Vector2(-330.1169, -439.595), Vector2(-329.0336, -438.595), Vector2(-327.9502, -437.5395), Vector2(-326.8669, -436.4283), Vector2(-325.7835, -435.2617), Vector2(-324.7002, -434.0395), Vector2(-323.6169, -432.7617), Vector2(-322.5335, -431.4283), Vector2(-321.4502, -430.0395), Vector2(-320.3668, -428.595), Vector2(-319.2835, -427.095), Vector2(-318.2001, -425.5395), Vector2(-317.1168, -423.9283), Vector2(-316.0334, -422.2617), Vector2(-314.9501, -420.5395), Vector2(-313.8668, -418.7617), Vector2(-312.7834, -416.9283), Vector2(-311.7001, -415.0395), Vector2(-310.6167, -413.095), Vector2(-309.5334, -411.095), Vector2(-308.45, -409.0395), Vector2(-307.3667, -406.9283), Vector2(-306.2834, -404.795), Vector2(-305.2, -402.6617), Vector2(-304.1167, -400.5284), Vector2(-303.0333, -398.395), Vector2(-301.95, -396.2617), Vector2(-300.8666, -394.1284), Vector2(-299.7833, -391.995), Vector2(-298.7, -389.8617), Vector2(-297.6166, -387.7284), Vector2(-296.5333, -385.595), Vector2(-295.4499, -383.4617), Vector2(-294.3666, -381.3284), Vector2(-293.2832, -379.195), Vector2(-292.1999, -377.0617), Vector2(-291.1165, -374.9284), Vector2(-290.0332, -372.795), Vector2(-288.9499, -370.6617), Vector2(-287.8665, -368.5284), Vector2(-286.7832, -366.3951), Vector2(-285.6998, -364.2617), Vector2(-284.6165, -362.1284), Vector2(-283.5331, -359.9951), Vector2(-282.4498, -357.8617), Vector2(-281.3665, -355.7284), Vector2(-280.2831, -353.5951), Vector2(-279.1998, -352.095), Vector2(-278.1164, -352.095), Vector2(-277.0331, -352.095), Vector2(-275.9497, -352.095), Vector2(-274.8664, -352.095), Vector2(-273.7831, -352.095), Vector2(-272.6997, -352.095), Vector2(-271.6164, -352.095), Vector2(-270.533, -352.095), Vector2(-269.4497, -352.095), Vector2(-268.3663, -352.095), Vector2(-267.283, -352.095), Vector2(-266.1996, -352.095), Vector2(-265.1163, -352.095), Vector2(-264.033, -352.095), Vector2(-262.9496, -352.095), Vector2(-261.8663, -352.095), Vector2(-260.7829, -352.095), Vector2(-259.6996, -352.095), Vector2(-258.6162, -352.095), Vector2(-257.5329, -352.095), Vector2(-256.4496, -352.095), Vector2(-255.3662, -352.095), Vector2(-254.2829, -352.095), Vector2(-253.1996, -352.095), Vector2(-252.1162, -352.095), Vector2(-251.0329, -352.095), Vector2(-249.9496, -352.095), Vector2(-248.8663, -352.095), Vector2(-247.7829, -352.095), Vector2(-246.6996, -352.095), Vector2(-245.6163, -352.095), Vector2(-244.5329, -352.095), Vector2(-243.4496, -352.095), Vector2(-242.3663, -352.095), Vector2(-241.283, -352.095), Vector2(-240.1996, -352.095), Vector2(-239.1163, -352.095), Vector2(-238.033, -352.095), Vector2(-236.9496, -352.095), Vector2(-235.8663, -352.095), Vector2(-234.783, -352.095), Vector2(-233.6997, -352.095), Vector2(-232.6163, -352.095), Vector2(-231.533, -352.095), Vector2(-230.4497, -352.095), Vector2(-229.3663, -352.095), Vector2(-228.283, -352.095), Vector2(-227.1997, -352.095), Vector2(-226.1164, -352.095), Vector2(-225.033, -352.095), Vector2(-223.9497, -352.095), Vector2(-222.8664, -352.095), Vector2(-221.7831, -352.095), Vector2(-220.6997, -352.095), Vector2(-219.6164, -352.095), Vector2(-218.5331, -352.095), Vector2(-217.4497, -352.095), Vector2(-216.3664, -352.095), Vector2(-215.2831, -352.095), Vector2(-214.1998, -352.095), Vector2(-213.1164, -352.095), Vector2(-212.0331, -352.095), Vector2(-210.9498, -352.095), Vector2(-209.8664, -352.095), Vector2(-208.7831, -352.095), Vector2(-207.6998, -352.095), Vector2(-206.6165, -352.095), Vector2(-205.5331, -352.095), Vector2(-204.4498, -352.095), Vector2(-203.3665, -352.095), Vector2(-202.2831, -352.095), Vector2(-201.1998, -352.095), Vector2(-200.1165, -352.095), Vector2(-199.0332, -352.095), Vector2(-197.9498, -352.095), Vector2(-196.8665, -352.095), Vector2(-195.7832, -352.095), Vector2(-194.6998, -352.095), Vector2(-193.6165, -352.095), Vector2(-192.5332, -352.095), Vector2(-191.4499, -352.095), Vector2(-190.3665, -352.095), Vector2(-189.2832, -352.095), Vector2(-188.1999, -352.095), Vector2(-187.1165, -352.095), Vector2(-186.0332, -352.095), Vector2(-184.9499, -352.095), Vector2(-183.8666, -352.095), Vector2(-182.7832, -352.095), Vector2(-181.6999, -352.095), Vector2(-180.6166, -352.095), Vector2(-179.5332, -352.095), Vector2(-178.4499, -352.095), Vector2(-177.3666, -352.095), Vector2(-176.2833, -352.095), Vector2(-175.1999, -352.095), Vector2(-174.1166, -352.095), Vector2(-173.0333, -352.095), Vector2(-171.95, -352.095), Vector2(-170.8666, -352.095), Vector2(-169.7833, -352.095), Vector2(-168.7, -352.095), Vector2(-167.6166, -352.095), Vector2(-166.5333, -352.095), Vector2(-165.45, -352.095), Vector2(-164.3667, -352.095), Vector2(-163.2833, -352.095), Vector2(-162.2, -352.095), Vector2(-161.1167, -352.095), Vector2(-160.0333, -352.095), Vector2(-158.95, -354.2283), Vector2(-157.8667, -356.3061), Vector2(-156.7833, -358.3283), Vector2(-155.7, -360.295), Vector2(-154.6167, -362.2061), Vector2(-153.5334, -364.0617), Vector2(-152.45, -365.8617), Vector2(-151.3667, -367.6061), Vector2(-150.2834, -369.295), Vector2(-149.2, -370.9283), Vector2(-148.1167, -372.5061), Vector2(-147.0334, -374.0284), Vector2(-145.9501, -375.495), Vector2(-144.8667, -376.9061), Vector2(-143.7834, -378.2617), Vector2(-142.7001, -379.5617), Vector2(-141.6167, -380.8061), Vector2(-140.5334, -381.8728), Vector2(-139.4501, -382.8839), Vector2(-138.3668, -383.8395), Vector2(-137.2834, -384.7395), Vector2(-136.2001, -385.5839), Vector2(-135.1168, -386.3728), Vector2(-134.0334, -387.1061), Vector2(-132.9501, -387.7839), Vector2(-131.8668, -388.4061), Vector2(-130.7835, -388.9728), Vector2(-129.7001, -389.4839), Vector2(-128.6168, -389.9395), Vector2(-127.5335, -390.3395), Vector2(-126.4501, -390.6839), Vector2(-125.3668, -390.9728), Vector2(-124.2835, -391.2061), Vector2(-123.2001, -391.3839), Vector2(-122.1168, -391.5061), Vector2(-121.0335, -391.5728), Vector2(-119.9501, -391.5839), Vector2(-118.8668, -391.5395), Vector2(-117.7834, -391.4395), Vector2(-116.7001, -391.2839), Vector2(-115.6168, -391.0728), Vector2(-114.5334, -390.8062), Vector2(-113.4501, -390.4839), Vector2(-112.3668, -390.1061), Vector2(-111.2834, -389.6728), Vector2(-110.2001, -389.1839), Vector2(-109.1168, -388.6395), Vector2(-108.0334, -388.0395), Vector2(-106.9501, -387.3839), Vector2(-105.8668, -386.6728), Vector2(-104.7834, -385.9062), Vector2(-103.7001, -385.0839), Vector2(-102.6167, -384.2061), Vector2(-101.5334, -383.2728), Vector2(-100.4501, -382.2839), Vector2(-99.36674, -381.2395), Vector2(-98.2834, -380.1395), Vector2(-97.20007, -378.9839), Vector2(-96.11673, -377.7728), Vector2(-95.03339, -376.5062), Vector2(-93.95006, -375.1839), Vector2(-92.86672, -373.8062), Vector2(-91.78339, -372.3728), Vector2(-90.70005, -370.8839), Vector2(-89.61671, -369.3395), Vector2(-88.53338, -370.9395), Vector2(-87.45004, -372.4839), Vector2(-86.36671, -373.9728), Vector2(-85.28337, -375.4062), Vector2(-84.20004, -376.7839), Vector2(-83.1167, -377.8506), Vector2(-82.03336, -378.8617), Vector2(-80.95003, -379.8173), Vector2(-79.86669, -380.7173), Vector2(-78.78336, -381.5617), Vector2(-77.70002, -382.3506), Vector2(-76.61668, -383.084), Vector2(-75.53335, -383.7617), Vector2(-74.45001, -384.3839), Vector2(-73.36668, -384.9506), Vector2(-72.28334, -385.4617), Vector2(-71.2, -385.9173), Vector2(-70.11667, -386.3173), Vector2(-69.03333, -386.6617), Vector2(-67.95, -386.9506), Vector2(-66.86666, -387.184), Vector2(-65.78333, -387.3617), Vector2(-64.69999, -387.4839), Vector2(-63.61666, -387.5506), Vector2(-62.53333, -387.5617), Vector2(-61.44999, -387.5173), Vector2(-60.36666, -387.4173), Vector2(-59.28333, -387.2617), Vector2(-58.2, -387.0506), Vector2(-57.11666, -386.784), Vector2(-56.03333, -386.4617), Vector2(-54.95, -386.084), Vector2(-53.86667, -385.6506), Vector2(-52.78334, -385.1617), Vector2(-51.7, -384.6173), Vector2(-50.61667, -384.0173), Vector2(-49.53334, -383.3618), Vector2(-48.45001, -382.6506), Vector2(-47.36668, -381.884), Vector2(-46.28334, -381.0617), Vector2(-45.20001, -380.184), Vector2(-44.11668, -379.2506), Vector2(-43.03335, -378.2617), Vector2(-41.95002, -377.2173), Vector2(-40.86668, -376.1173), Vector2(-39.78335, -374.9618), Vector2(-38.70002, -373.7506), Vector2(-37.61669, -372.484), Vector2(-36.53336, -371.1617), Vector2(-35.45002, -369.784), Vector2(-34.36669, -368.3506), Vector2(-33.28336, -366.8618), Vector2(-32.20003, -365.3173), Vector2(-31.11669, -363.7173), Vector2(-30.03336, -362.0618), Vector2(-28.95003, -360.3506), Vector2(-27.86669, -358.584), Vector2(-26.78336, -356.7617), Vector2(-25.70002, -354.884), Vector2(-24.61669, -352.9507), Vector2(-23.53336, -352.095), Vector2(-22.45002, -352.095), Vector2(-21.36669, -352.095), Vector2(-20.28336, -352.095), Vector2(-19.20002, -352.095), Vector2(-18.11669, -352.095), Vector2(-17.03335, -352.095), Vector2(-15.95002, -352.095), Vector2(-14.86669, -352.095), Vector2(-13.78335, -352.095), Vector2(-12.70002, -352.095), Vector2(-11.61669, -352.095), Vector2(-10.53336, -352.095), Vector2(-9.450023, -352.095), Vector2(-8.36669, -352.095), Vector2(-7.283356, -352.095), Vector2(-6.200023, -352.095), Vector2(-5.116689, -352.095), Vector2(-4.033356, -352.095), Vector2(-2.950022, -352.095), Vector2(-1.866689, -352.095), Vector2(-0.783355, -352.095), Vector2(0.299978, -352.095), Vector2(1.383311, -352.095), Vector2(2.466645, -352.095), Vector2(3.549978, -352.095), Vector2(4.633312, -352.095), Vector2(5.716645, -352.095), Vector2(6.799979, -352.095), Vector2(7.883312, -352.095), Vector2(8.966645, -352.095), Vector2(10.04998, -352.095), Vector2(11.13331, -352.095), Vector2(12.21664, -352.095), Vector2(13.29998, -352.095), Vector2(14.38331, -352.095), Vector2(15.46664, -352.095), Vector2(16.54998, -352.095), Vector2(17.63331, -352.095), Vector2(18.71664, -352.095), Vector2(19.79998, -352.095), Vector2(20.88331, -352.095), Vector2(21.96665, -352.095), Vector2(23.04998, -352.095), Vector2(24.13331, -352.095), Vector2(25.21665, -352.095), Vector2(26.29998, -352.095), Vector2(27.38332, -352.095), Vector2(28.46665, -352.095), Vector2(29.54998, -352.095), Vector2(30.63332, -352.095), Vector2(31.71665, -352.095), Vector2(32.79998, -352.095), Vector2(33.88332, -352.095), Vector2(34.96665, -352.095), Vector2(36.04998, -352.095), Vector2(37.13331, -352.095), Vector2(38.21664, -352.095), Vector2(39.29998, -352.095), Vector2(40.38331, -352.095), Vector2(41.46664, -352.095), Vector2(42.54997, -352.095), Vector2(43.6333, -352.095), Vector2(44.71664, -352.095), Vector2(45.79997, -352.095), Vector2(46.8833, -352.095), Vector2(47.96663, -352.095), Vector2(49.04996, -352.095), Vector2(50.1333, -352.095), Vector2(51.21663, -352.095), Vector2(52.29996, -352.095), Vector2(53.38329, -352.095), Vector2(54.46663, -352.095), Vector2(55.54996, -352.095), Vector2(56.63329, -352.095), Vector2(57.71662, -352.095), Vector2(58.79995, -352.095), Vector2(59.88329, -352.095), Vector2(60.96662, -352.095), Vector2(62.04995, -352.095), Vector2(63.13328, -352.095), Vector2(64.21661, -352.095), Vector2(65.29995, -352.095), Vector2(66.38329, -352.095), Vector2(67.46662, -352.095), Vector2(68.54996, -352.095), Vector2(69.63329, -352.095), Vector2(70.71663, -352.095), Vector2(71.79996, -352.095), Vector2(72.8833, -352.095), Vector2(73.96664, -352.095), Vector2(75.04997, -352.095), Vector2(76.13331, -352.095), Vector2(77.21664, -352.095), Vector2(78.29998, -352.095), Vector2(79.38332, -352.095), Vector2(80.46665, -352.095), Vector2(81.54999, -352.095), Vector2(82.63332, -352.095), Vector2(83.71666, -352.095), Vector2(84.8, -352.095), Vector2(85.88333, -352.095), Vector2(86.96667, -352.095), Vector2(88.05, -352.095), Vector2(89.13334, -352.095), Vector2(90.21667, -352.095), Vector2(91.30001, -352.095), Vector2(92.38335, -352.095), Vector2(93.46668, -352.095), Vector2(94.55002, -352.095), Vector2(95.63335, -352.095), Vector2(96.71669, -352.095), Vector2(97.80003, -352.095), Vector2(98.88336, -352.095), Vector2(99.9667, -352.095), Vector2(101.05, -352.095), Vector2(102.1334, -352.095), Vector2(103.2167, -352.095), Vector2(104.3, -352.095), Vector2(105.3834, -352.095), Vector2(106.4667, -352.095), Vector2(107.55, -352.095), Vector2(108.6334, -352.095), Vector2(109.7167, -352.095), Vector2(110.8001, -352.095), Vector2(111.8834, -352.095), Vector2(112.9667, -352.095), Vector2(114.0501, -352.095), Vector2(115.1334, -352.095), Vector2(116.2167, -352.095), Vector2(117.3001, -352.095), Vector2(118.3834, -352.095), Vector2(119.4667, -352.095), Vector2(120.5501, -352.095), Vector2(121.6334, -352.095), Vector2(122.7168, -352.095), Vector2(123.8001, -352.095), Vector2(124.8834, -352.095), Vector2(125.9668, -352.095), Vector2(127.0501, -352.095), Vector2(128.1334, -352.095), Vector2(129.2168, -352.095), Vector2(130.3001, -352.095), Vector2(131.3834, -352.095), Vector2(132.4667, -352.095), Vector2(133.5501, -352.095), Vector2(134.6334, -352.095), Vector2(135.7167, -352.095), Vector2(136.8, -352.095), Vector2(137.8834, -352.095), Vector2(138.9667, -352.095), Vector2(140.05, -352.095), Vector2(141.1334, -352.095), Vector2(142.2167, -352.095), Vector2(143.3, -352.095), Vector2(144.3833, -352.095), Vector2(145.4667, -352.095), Vector2(146.55, -352.095), Vector2(147.6333, -352.095), Vector2(148.7167, -352.095), Vector2(149.8, -352.095), Vector2(150.8833, -352.095), Vector2(151.9666, -352.095), Vector2(153.05, -352.095), Vector2(154.1333, -352.095), Vector2(155.2166, -352.095), Vector2(156.3, -352.095), Vector2(157.3833, -352.095), Vector2(158.4666, -352.095), Vector2(159.5499, -352.095), Vector2(160.6333, -352.095), Vector2(161.7166, -352.095), Vector2(162.7999, -352.095), Vector2(163.8833, -352.095), Vector2(164.9666, -352.095), Vector2(166.0499, -352.095), Vector2(167.0221, -352.095), Vector2(167.8833, -352.095), Vector2(168.6333, -352.095), Vector2(169.2721, -352.095), Vector2(169.7999, -352.095), Vector2(170.2166, -352.095), Vector2(170.5221, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7166, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095), Vector2(170.7999, -352.095)
	]
var akamaru_frames = [
	10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 13, 13, 13, 13, 13, 13, 14, 14, 14, 14, 14, 14, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 0, 0, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 13, 13, 13, 13, 13, 13, 14, 14, 14, 14, 14, 14, 15, 15, 15, 15, 15, 15, 15, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 13, 13, 13, 13, 13, 13, 14, 14, 14, 14, 14, 14, 15, 15, 15, 15, 15, 15, 15, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 13, 13, 13, 13, 13, 13, 14, 14, 14, 14, 14, 14, 15, 15, 15, 15, 15, 15, 15, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 10, 10, 10, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 13, 13, 13, 13, 13, 13, 14, 14, 14, 14, 14, 14, 15, 15, 15, 15, 15, 15, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 13, 13, 13, 13, 13, 13, 14, 14, 14, 14, 14, 14, 15, 15, 15, 15, 15, 15, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 13, 13, 13, 13, 13, 13, 14, 14, 14, 14, 14, 14, 15, 15, 15, 15, 15, 15, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 0, 0, 0, 0, 0, 0, 1, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 34, 35, 35, 35, 35, 35, 35, 36, 36, 36, 36, 36, 36, 37, 37, 37, 37, 37, 37, 38, 38, 38, 38, 38, 38, 39, 39, 39, 39, 39, 39, 39, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 3, 3
]

var started = false
var finished = false
var frame = 0

func _input(event):
	if event.is_action_pressed("pause") and stats["save_data"]["opening_complete"]:
		fade.modulate = Color.WHITE
		#await get_tree().create_timer(.4).timeout
		finish_scene()

@warning_ignore("unused_parameter")
func _physics_process(delta):
	if started:
		if frame<=akamaru_frames.size()-1:
			akamaru.position = akamaru_positions[frame]
			sprite_2d.frame = akamaru_frames[frame]
			if (akamaru_frames[frame] == 8 || akamaru_frames[frame] == 12 || (akamaru_frames[frame] == 0 and frame < 500)) and frame%6 == 0:
				create_walk_sound()
			elif akamaru_frames[frame] == 32 and frame%6 == 0:
				create_dig_sound()
			frame += 1
		if frame == 175 || frame == 485 || frame == 820:
			fade_animator.play("fade_out")
		if frame == 275 || frame == 585:
			fade_animator.play("fade_in")
		if frame > akamaru_frames.size()-1 and !finished:
			finished = true
			finish_timer.start()
			await get_tree().create_timer(.5).timeout
			@warning_ignore("narrowing_conversion")
			sounds.play_sfx("bark_twice", randf_range(0.7,1.2), -25)

func _ready():
	start_title()

func start_title():
	sounds.play_sfx("intro_sound", 1, 0)
	var tween_title = get_tree().create_tween()
	tween_title.tween_property(title,"modulate:a",0,10)
	var tween_in = get_tree().create_tween()
	tween_in.tween_property(audio_stream_player_2d,"volume_db",1,7)
	await get_tree().create_timer(10).timeout
	var tween_out = get_tree().create_tween()
	tween_out.tween_property(audio_stream_player_2d,"volume_db",-80,8)

func create_walk_sound():
	@warning_ignore("narrowing_conversion")
	sounds.play_sfx("step", randf_range(0.7,1.2), -25)

func create_dig_sound():
	@warning_ignore("narrowing_conversion")
	sounds.play_sfx("dig", randf_range(0.7,1.2), -25)

func finish_scene():
	get_tree().call_deferred("change_scene_to_file",game_board)

func _on_start_fade_timeout():
	fade_animator.play("fade_in")

func _on_start_akamaru_timeout():
	started = true

func _on_finish_timer_timeout():
	finish_scene()
