[gd_scene load_steps=13 format=3 uid="uid://b6msar3snjxq4"]

[ext_resource type="Script" path="res://levels/challenges/challenge.gd" id="1_b448i"]
[ext_resource type="Texture2D" uid="uid://r7nk4nvd874q" path="res://assets/art/backgrounds/castle_1_background.png" id="2_54jsh"]
[ext_resource type="TileSet" uid="uid://dolar343jujfg" path="res://tilesets/tileset.tres" id="3_4c1ul"]
[ext_resource type="PackedScene" uid="uid://kib21yto7yik" path="res://player/player.tscn" id="4_wvlo8"]
[ext_resource type="PackedScene" uid="uid://br8ewlyx38alq" path="res://items/challenge_finish.tscn" id="5_dr7d7"]
[ext_resource type="PackedScene" uid="uid://bpl2vk3ncc0mb" path="res://items/start_zone.tscn" id="6_xambh"]
[ext_resource type="PackedScene" uid="uid://bb8b5vo2me8pl" path="res://ui/camera_2d.tscn" id="7_e88up"]
[ext_resource type="PackedScene" uid="uid://dlj3xtq0pl4l8" path="res://items/leaderboard.tscn" id="8_vuvpk"]
[ext_resource type="PackedScene" uid="uid://bcudup6bgixmc" path="res://items/teleporter.tscn" id="9_ja43s"]
[ext_resource type="PackedScene" uid="uid://nfjwcl3nv5kx" path="res://items/spikes.tscn" id="12_dpsd6"]
[ext_resource type="PackedScene" uid="uid://btc0hm6mkex5a" path="res://items/checkpoint.tscn" id="13_818al"]
[ext_resource type="PackedScene" uid="uid://n615rx02auyl" path="res://ui/ui.tscn" id="14_8hllw"]

[node name="challenge_3" type="Node2D"]
script = ExtResource("1_b448i")
level_id = "challenge_3"

[node name="background" type="TextureRect" parent="."]
visible = false
z_index = -100
offset_left = -384.0
offset_top = -9256.0
offset_right = 1488.0
offset_bottom = 520.0
texture = ExtResource("2_54jsh")

[node name="camera_limits" type="Panel" parent="."]
modulate = Color(1, 1, 1, 0)
offset_left = -384.0
offset_top = -1648.0
offset_right = 1488.0
offset_bottom = 176.0

[node name="TileMap" type="TileMap" parent="."]
z_index = 2
tile_set = ExtResource("3_4c1ul")
format = 2
layer_0/name = "ground"
layer_0/tile_data = PackedInt32Array(65524, 6, 8, 65525, 65542, 8, 65527, 65542, 9, 65526, 65542, 8, 65528, 65542, 8, 65529, 65542, 9, 65530, 65542, 8, 65531, 65542, 8, 65532, 65542, 9, 65533, 65542, 8, 65534, 65542, 8, 65535, 65542, 8, 0, 65542, 9, 1, 131078, 8)
layer_1/name = "scatter"
layer_1/z_index = -3
layer_1/tile_data = PackedInt32Array()
layer_2/name = "background"
layer_2/z_index = -5
layer_2/tile_data = PackedInt32Array()
layer_3/name = "background_far"
layer_3/z_index = -10
layer_3/tile_data = PackedInt32Array()

[node name="player" parent="." instance=ExtResource("4_wvlo8")]
position = Vector2(-176, 0)

[node name="camera_follow" parent="player" index="9"]
remote_path = NodePath("../../Camera2D")

[node name="challenge_finish" parent="." instance=ExtResource("5_dr7d7")]
position = Vector2(696, -1072)

[node name="start_zone" parent="." instance=ExtResource("6_xambh")]
position = Vector2(115, -16)

[node name="Camera2D" parent="." instance=ExtResource("7_e88up")]
position = Vector2(-176, -15)

[node name="items" type="Node2D" parent="."]

[node name="leaderboard" parent="items" instance=ExtResource("8_vuvpk")]
position = Vector2(-120, 0)

[node name="teleporter" parent="items" instance=ExtResource("9_ja43s")]
position = Vector2(-176, 0)

[node name="spikes" type="Node2D" parent="."]

[node name="spikes" parent="spikes" instance=ExtResource("12_dpsd6")]
position = Vector2(24, 0)

[node name="checkpoints" type="Node2D" parent="."]

[node name="checkpoint" parent="checkpoints" instance=ExtResource("13_818al")]
position = Vector2(-16, 0)

[node name="ui" parent="." instance=ExtResource("14_8hllw")]

[connection signal="change_scene" from="player" to="." method="change_scene"]
[connection signal="close_interactables" from="player" to="." method="_on_player_close_interactables"]
[connection signal="leaderboard" from="player" to="." method="_on_player_leaderboard"]
[connection signal="respawn" from="player" to="." method="_on_player_respawn"]
[connection signal="body_entered" from="challenge_finish" to="." method="_on_challenge_finish_body_entered"]
[connection signal="start_timer" from="start_zone" to="." method="_on_start_zone_start_timer"]
[connection signal="activate_checkpoint" from="checkpoints/checkpoint" to="." method="_on_checkpoint_activate_checkpoint"]

[editable path="player"]
